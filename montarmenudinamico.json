{
   "onboarding":{
      "$contentActions":[
         {
            "input":{
               "bypass":false,
               "$cardContent":{
                  "document":{
                     "id":"4e9ddbdb-553a-4667-a850-3fb7b7a16d67",
                     "type":"text/plain",
                     "content":"Entrada do usuário"
                  },
                  "editable":false,
                  "deletable":false,
                  "position":"right",
                  "editing":false
               },
               "$invalid":false
            },
            "$invalid":false
         }
      ],
      "$conditionOutputs":[
         {
            "stateId":"693f3b44-379a-43ec-9176-bdb114649f69",
            "$connId":"con_3",
            "$id":"cc7e732d-96e4-434d-a4f4-a84a99a2e60b",
            "conditions":[
               {
                  "source":"input",
                  "comparison":"exists",
                  "values":[
                     
                  ]
               }
            ],
            "$invalid":false
         }
      ],
      "$enteringCustomActions":[
         
      ],
      "$leavingCustomActions":[
         
      ],
      "$inputSuggestions":[
         
      ],
      "$defaultOutput":{
         "stateId":"fallback",
         "$invalid":false
      },
      "$tags":[
         
      ],
      "id":"onboarding",
      "root":true,
      "$position":{
         "top":"120px",
         "left":"644px"
      },
      "$title":"Início",
      "$invalidContentActions":false,
      "$invalidOutputs":false,
      "$invalidCustomActions":false,
      "$invalid":false
   },
   "fallback":{
      "$contentActions":[
         {
            "input":{
               "bypass":true,
               "$cardContent":{
                  "document":{
                     "id":"467d5081-41c5-4dbc-86da-c25e1655f98e",
                     "type":"text/plain"
                  },
                  "editable":false,
                  "deletable":true,
                  "position":"right",
                  "editing":false
               },
               "$invalid":false
            },
            "$invalid":false
         }
      ],
      "$conditionOutputs":[
         
      ],
      "$enteringCustomActions":[
         
      ],
      "$leavingCustomActions":[
         
      ],
      "$inputSuggestions":[
         
      ],
      "$defaultOutput":{
         "stateId":"onboarding",
         "$invalid":false
      },
      "$tags":[
         
      ],
      "id":"fallback",
      "$position":{
         "top":"120px",
         "left":"877px"
      },
      "$title":"Exceções",
      "$invalidContentActions":false,
      "$invalidOutputs":false,
      "$invalidCustomActions":false,
      "$invalid":false
   },
   "welcome":{
      "$contentActions":[
         {
            "action":{
               "$id":"8140ef66-a850-4747-82d7-22e0c762e8a6",
               "type":"SendMessage",
               "settings":{
                  "id":"139065fb-b1bb-47b5-bf80-ce8761988ef5",
                  "type":"application/vnd.lime.chatstate+json",
                  "content":{
                     "state":"composing",
                     "interval":1000
                  }
               },
               "$cardContent":{
                  "document":{
                     "id":"139065fb-b1bb-47b5-bf80-ce8761988ef5",
                     "type":"application/vnd.lime.chatstate+json",
                     "content":{
                        "state":"composing",
                        "interval":1000
                     }
                  },
                  "editable":true,
                  "deletable":true,
                  "position":"left"
               }
            },
            "$invalid":false
         },
         {
            "action":{
               "$id":"05411725-2d39-45d0-a243-6772ed004b25",
               "type":"SendMessage",
               "settings":{
                  "id":"d26db817-ef2c-4d0f-a039-feb6ad0f6bac",
                  "type":"text/plain",
                  "content":"Digite a opção:\n{{menuString}}",
                  "metadata":{
                     
                  }
               },
               "$cardContent":{
                  "document":{
                     "id":"d26db817-ef2c-4d0f-a039-feb6ad0f6bac",
                     "type":"text/plain",
                     "content":"Digite a opção:\n{{menuString}}"
                  },
                  "editable":true,
                  "deletable":true,
                  "position":"left"
               }
            },
            "$invalid":false
         },
         {
            "input":{
               "bypass":false,
               "$cardContent":{
                  "document":{
                     "id":"96190bd2-8f97-4fa8-b25d-4e267065f9dc",
                     "type":"text/plain",
                     "content":"selectedOption"
                  },
                  "editable":false,
                  "deletable":true,
                  "position":"right",
                  "editing":false
               },
               "$invalid":false,
               "variable":"selectedOption"
            },
            "$invalid":false
         }
      ],
      "$conditionOutputs":[
         {
            "stateId":"4ab31b83-ed37-4b6b-97d0-a2bd2329bf82",
            "$connId":"con_8",
            "$id":"d73fc2a8-7f0b-45c3-abbb-40163bcb9fdf",
            "conditions":[
               {
                  "source":"input",
                  "comparison":"exists",
                  "values":[
                     
                  ]
               }
            ],
            "$invalid":false
         }
      ],
      "$enteringCustomActions":[
         {
            "$id":"0516b2e0-0ec1-4d83-8e26-f663d3ae0b90",
            "type":"ExecuteScript",
            "$title":"Montar menu",
            "$invalid":false,
            "settings":{
               "function":"run",
               "source":"function run(menu) {\n    menu = JSON.parse(menu);\n    var menuString = \"\"\n    menu.forEach((element,index) => {\n        menuString += `<b>${index + 1}</b> - ${element}\\n`\n    });\n    return menuString;\n}",
               "inputVariables":[
                  "menu"
               ],
               "outputVariable":"menuString",
               "LocalTimeZoneEnabled":false
            },
            "conditions":[
               
            ]
         }
      ],
      "$leavingCustomActions":[
         {
            "$id":"6b0055ff-80a5-4437-b0fa-46b1107e6a59",
            "type":"ExecuteScript",
            "$title":"Adicionar Opção",
            "$invalid":false,
            "settings":{
               "function":"run",
               "source":"function run(selectedOption,menu,optionsJSON) {\n    var menu = JSON.parse(menu)\n    var selectedOptionStr= menu[`${selectedOption - 1}`]\n    var optionsJSON = JSON.parse(optionsJSON)\n    optionsJSON.push(selectedOptionStr);\n    return optionsJSON; \n}",
               "inputVariables":[
                  "selectedOption",
                  "menu",
                  "optionsJSON"
               ],
               "outputVariable":"optionsJSON"
            },
            "conditions":[
               
            ]
         },
         {
            "$id":"fd61b091-1cd0-44c8-a051-397f8132194c",
            "type":"ExecuteScript",
            "$title":"Remonta Menu",
            "$invalid":false,
            "settings":{
               "function":"run",
               "source":"\nfunction run(selectedOption, menu) {\n    menu = JSON.parse(menu);\n    menu.splice(selectedOption - 1,1);\n    return JSON.stringify(menu);\n}",
               "inputVariables":[
                  "selectedOption",
                  "menu"
               ],
               "outputVariable":"menu"
            },
            "conditions":[
               
            ]
         },
         {
            "$id":"f0210150-a192-4ee4-bb5d-cce9b6dd013e",
            "type":"ExecuteScript",
            "$title":"Montar string com objeto",
            "$invalid":false,
            "settings":{
               "function":"run",
               "source":"function run(optionsJSON) {\n    var options = \"\";\n    var optionsJSON = JSON.parse(optionsJSON);\n    options = optionsJSON.join(\", \");\n    return options;\n}",
               "inputVariables":[
                  "optionsJSON"
               ],
               "outputVariable":"options"
            },
            "conditions":[
               
            ]
         }
      ],
      "$inputSuggestions":[
         
      ],
      "$defaultOutput":{
         "stateId":"fallback",
         "$invalid":false
      },
      "$tags":[
         
      ],
      "id":"welcome",
      "$position":{
         "top":"358px",
         "left":"643px"
      },
      "$title":"Menu",
      "$invalidContentActions":false,
      "$invalidOutputs":false,
      "$invalidCustomActions":false,
      "$invalid":false
   },
   "4ab31b83-ed37-4b6b-97d0-a2bd2329bf82":{
      "$contentActions":[
         {
            "action":{
               "$id":"a114c2cb-89eb-4bf6-9c41-7309fa83655b",
               "type":"SendMessage",
               "settings":{
                  "id":"56197d31-ff31-4381-95a5-8abb273210e6",
                  "type":"application/vnd.lime.chatstate+json",
                  "content":{
                     "state":"composing",
                     "interval":1000
                  }
               },
               "$cardContent":{
                  "document":{
                     "id":"56197d31-ff31-4381-95a5-8abb273210e6",
                     "type":"application/vnd.lime.chatstate+json",
                     "content":{
                        "state":"composing",
                        "interval":1000
                     }
                  },
                  "editable":true,
                  "deletable":true,
                  "position":"left"
               }
            },
            "$invalid":false
         },
         {
            "action":{
               "$id":"7cafeef9-6b97-495c-a2fd-690778be7e51",
               "type":"SendMessage",
               "settings":{
                  "id":"b89ae99a-ab35-479b-9636-9a96dcfc7882",
                  "type":"text/plain",
                  "content":"As opções selecionadas foram:\n{{options}}",
                  "metadata":{
                     
                  }
               },
               "$cardContent":{
                  "document":{
                     "id":"b89ae99a-ab35-479b-9636-9a96dcfc7882",
                     "type":"text/plain",
                     "content":"As opções selecionadas foram:\n{{options}}"
                  },
                  "editable":true,
                  "deletable":true,
                  "position":"left"
               }
            },
            "$invalid":false
         },
         {
            "input":{
               "bypass":true,
               "$cardContent":{
                  "document":{
                     "id":"55ab20bf-422b-4f2c-9ee0-9e9c8e3a8fb3",
                     "type":"text/plain",
                     "textContent":"Entrada do usuário",
                     "content":"Entrada do usuário"
                  },
                  "editable":false,
                  "deletable":true,
                  "position":"right",
                  "editing":false
               },
               "$invalid":false
            },
            "$invalid":false
         }
      ],
      "$conditionOutputs":[
         {
            "stateId":"33bf34ff-844b-44de-aaac-486b35a048c4",
            "$connId":"con_13",
            "$id":"0ac27bfe-83dd-46db-a5da-8557a4026447",
            "conditions":[
               {
                  "source":"context",
                  "comparison":"equals",
                  "values":[
                     "true"
                  ],
                  "variable":"hasOption"
               }
            ],
            "$invalid":false
         },
         {
            "stateId":"fae78fff-8e3d-4434-ad93-30cdac43ef5d",
            "$connId":"con_18",
            "$id":"26225814-102a-42fc-8629-487ee3b536fd",
            "conditions":[
               {
                  "source":"context",
                  "comparison":"equals",
                  "values":[
                     "false"
                  ],
                  "variable":"hasOption"
               }
            ],
            "$invalid":false
         }
      ],
      "$enteringCustomActions":[
         {
            "$id":"f7fe11a0-af38-4b9c-931b-38ac36ab3f74",
            "type":"ExecuteScript",
            "$title":"Executar script",
            "$invalid":false,
            "settings":{
               "function":"run",
               "source":"\nfunction run(menu) {\n    var menu = JSON.parse(menu);\n    var hasOption = false;\n    if(menu.length > 0){\n        hasOption = true\n    }\n    return hasOption;\n}",
               "inputVariables":[
                  "menu"
               ],
               "outputVariable":"hasOption",
               "LocalTimeZoneEnabled":false
            },
            "conditions":[
               
            ]
         }
      ],
      "$leavingCustomActions":[
         
      ],
      "$inputSuggestions":[
         
      ],
      "$defaultOutput":{
         "stateId":"fallback",
         "$invalid":false
      },
      "$tags":[
         
      ],
      "id":"4ab31b83-ed37-4b6b-97d0-a2bd2329bf82",
      "root":false,
      "$title":"Opções selecionadas",
      "$position":{
         "top":"390px",
         "left":"972px"
      },
      "$invalidContentActions":false,
      "$invalidOutputs":false,
      "$invalidCustomActions":false,
      "$invalid":false
   },
   "693f3b44-379a-43ec-9176-bdb114649f69":{
      "$contentActions":[
         {
            "action":{
               "$id":"d0b23a5a-20b3-4190-aebc-0444cdbd7079",
               "type":"SendMessage",
               "settings":{
                  "id":"faf7196c-913d-4403-8c19-d0a77167765c",
                  "type":"application/vnd.lime.chatstate+json",
                  "content":{
                     "state":"composing",
                     "interval":1000
                  }
               },
               "$cardContent":{
                  "document":{
                     "id":"faf7196c-913d-4403-8c19-d0a77167765c",
                     "type":"application/vnd.lime.chatstate+json",
                     "content":{
                        "state":"composing",
                        "interval":1000
                     }
                  },
                  "editable":true,
                  "deletable":true,
                  "position":"left"
               }
            },
            "$invalid":false
         },
         {
            "action":{
               "$id":"2be1c0b9-5faa-499a-82e5-8a5749a0f570",
               "type":"SendMessage",
               "settings":{
                  "id":"0c596d53-0cb6-46bd-bb8d-69b9e47ff877",
                  "type":"text/plain",
                  "content":"Seja bem vindo",
                  "metadata":{
                     
                  }
               },
               "$cardContent":{
                  "document":{
                     "id":"0c596d53-0cb6-46bd-bb8d-69b9e47ff877",
                     "type":"text/plain",
                     "content":"Seja bem vindo"
                  },
                  "editable":true,
                  "deletable":true,
                  "position":"left"
               }
            },
            "$invalid":false
         },
         {
            "input":{
               "bypass":true,
               "$cardContent":{
                  "document":{
                     "id":"fb53b9c9-ea70-4935-85d6-cce64253a323",
                     "type":"text/plain",
                     "textContent":"Entrada do usuário",
                     "content":"Entrada do usuário"
                  },
                  "editable":false,
                  "deletable":true,
                  "position":"right",
                  "editing":false
               },
               "$invalid":false
            },
            "$invalid":false
         }
      ],
      "$conditionOutputs":[
         {
            "stateId":"welcome",
            "$connId":"con_23",
            "$id":"6af096a6-aea8-46a4-bab1-85e7311d356a",
            "conditions":[
               {
                  "source":"input",
                  "comparison":"exists",
                  "values":[
                     
                  ]
               }
            ],
            "$invalid":false
         }
      ],
      "$enteringCustomActions":[
         
      ],
      "$leavingCustomActions":[
         {
            "$id":"889f32a1-b284-4345-ac02-d54ec352e7f7",
            "type":"SetVariable",
            "$title":"definir optionsJson",
            "$invalid":false,
            "settings":{
               "variable":"optionsJSON",
               "value":"[]"
            },
            "conditions":[
               
            ]
         },
         {
            "$id":"eef71d39-99a4-4727-8060-4d36101825e7",
            "type":"SetVariable",
            "$title":"Definir menu",
            "$invalid":false,
            "settings":{
               "variable":"menu",
               "value":"[\"Opção1\",\"Opção2\", \"Outros\"]"
            },
            "conditions":[
               
            ]
         }
      ],
      "$inputSuggestions":[
         
      ],
      "$defaultOutput":{
         "stateId":"fallback",
         "$invalid":false
      },
      "$tags":[
         
      ],
      "id":"693f3b44-379a-43ec-9176-bdb114649f69",
      "root":false,
      "$title":"Boas Vindas",
      "$position":{
         "top":"220px",
         "left":"669px"
      },
      "$invalidContentActions":false,
      "$invalidOutputs":false,
      "$invalidCustomActions":false,
      "$invalid":false
   },
   "33bf34ff-844b-44de-aaac-486b35a048c4":{
      "$contentActions":[
         {
            "action":{
               "$id":"362c1605-5320-411e-a90e-5f50f0fdfbb4",
               "type":"SendMessage",
               "settings":{
                  "id":"601b4da3-376f-4306-8827-0e43bdab5233",
                  "type":"application/vnd.lime.chatstate+json",
                  "content":{
                     "state":"composing",
                     "interval":1000
                  }
               },
               "$cardContent":{
                  "document":{
                     "id":"601b4da3-376f-4306-8827-0e43bdab5233",
                     "type":"application/vnd.lime.chatstate+json",
                     "content":{
                        "state":"composing",
                        "interval":1000
                     }
                  },
                  "editable":true,
                  "deletable":true,
                  "position":"left"
               }
            },
            "$invalid":false
         },
         {
            "action":{
               "$id":"d0af857b-180f-4746-9e12-38fb30fd7920",
               "type":"SendMessage",
               "settings":{
                  "id":"ce6528c5-ac2d-4af0-8940-2c3e88a7a101",
                  "type":"text/plain",
                  "content":"Deseja adicionar mais uma opção?",
                  "metadata":{
                     
                  }
               },
               "$cardContent":{
                  "document":{
                     "id":"ce6528c5-ac2d-4af0-8940-2c3e88a7a101",
                     "type":"text/plain",
                     "content":"Deseja adicionar mais uma opção?"
                  },
                  "editable":true,
                  "deletable":true,
                  "position":"left"
               }
            },
            "$invalid":false
         },
         {
            "input":{
               "bypass":false,
               "$cardContent":{
                  "document":{
                     "id":"8a13cada-6403-4bae-bef3-4942f7166905",
                     "type":"text/plain",
                     "textContent":"Entrada do usuário",
                     "content":"Entrada do usuário"
                  },
                  "editable":false,
                  "deletable":true,
                  "position":"right",
                  "editing":false
               },
               "$invalid":false
            },
            "$invalid":false
         }
      ],
      "$conditionOutputs":[
         {
            "stateId":"welcome",
            "$connId":"con_28",
            "$id":"52199ff9-d135-46e4-bd33-1c7d40929021",
            "conditions":[
               {
                  "source":"input",
                  "comparison":"equals",
                  "values":[
                     "sim"
                  ]
               }
            ],
            "$invalid":false
         }
      ],
      "$enteringCustomActions":[
         
      ],
      "$leavingCustomActions":[
         
      ],
      "$inputSuggestions":[
         
      ],
      "$defaultOutput":{
         "stateId":"fallback",
         "$invalid":false
      },
      "$tags":[
         
      ],
      "id":"33bf34ff-844b-44de-aaac-486b35a048c4",
      "root":false,
      "$title":"Selecionar mais opção",
      "$position":{
         "top":"512px",
         "left":"955px"
      },
      "$invalidContentActions":false,
      "$invalidOutputs":false,
      "$invalidCustomActions":false,
      "$invalid":false
   },
   "fae78fff-8e3d-4434-ad93-30cdac43ef5d":{
      "$contentActions":[
         {
            "action":{
               "$id":"01fa739d-8c8b-457c-beee-a2b0299ea68f",
               "type":"SendMessage",
               "settings":{
                  "id":"54b2d8c4-6ae4-4b58-9537-168b15315bdf",
                  "type":"application/vnd.lime.chatstate+json",
                  "content":{
                     "state":"composing",
                     "interval":1000
                  }
               },
               "$cardContent":{
                  "document":{
                     "id":"54b2d8c4-6ae4-4b58-9537-168b15315bdf",
                     "type":"application/vnd.lime.chatstate+json",
                     "content":{
                        "state":"composing",
                        "interval":1000
                     }
                  },
                  "editable":true,
                  "deletable":true,
                  "position":"left"
               }
            },
            "$invalid":false
         },
         {
            "action":{
               "$id":"e1d007a3-38ca-4387-8d69-e9b1ebbefddf",
               "type":"SendMessage",
               "settings":{
                  "id":"7c6afc4b-78bf-4796-adb1-e331a2423b8d",
                  "type":"text/plain",
                  "content":"Fim",
                  "metadata":{
                     
                  }
               },
               "$cardContent":{
                  "document":{
                     "id":"7c6afc4b-78bf-4796-adb1-e331a2423b8d",
                     "type":"text/plain",
                     "content":"Fim"
                  },
                  "editable":true,
                  "deletable":true,
                  "position":"left"
               }
            },
            "$invalid":false
         },
         {
            "input":{
               "bypass":true,
               "$cardContent":{
                  "document":{
                     "id":"d79669dc-df81-42f5-ba99-08b6b4cdd6e7",
                     "type":"text/plain",
                     "textContent":"Entrada do usuário",
                     "content":"Entrada do usuário"
                  },
                  "editable":false,
                  "deletable":true,
                  "position":"right",
                  "editing":false
               },
               "$invalid":false
            },
            "$invalid":false
         }
      ],
      "$conditionOutputs":[
         
      ],
      "$enteringCustomActions":[
         
      ],
      "$leavingCustomActions":[
         
      ],
      "$inputSuggestions":[
         
      ],
      "$defaultOutput":{
         "stateId":"fallback",
         "$invalid":false
      },
      "$tags":[
         
      ],
      "id":"fae78fff-8e3d-4434-ad93-30cdac43ef5d",
      "root":false,
      "$title":"Fim",
      "$position":{
         "top":"365px",
         "left":"1208px"
      },
      "$invalidContentActions":false,
      "$invalidOutputs":false,
      "$invalidCustomActions":false,
      "$invalid":false
   }
}
